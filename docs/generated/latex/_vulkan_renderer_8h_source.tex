\doxysection{Vulkan\+Renderer.\+h}
\hypertarget{_vulkan_renderer_8h_source}{}\label{_vulkan_renderer_8h_source}\index{src/engine/renderer/backends/vulkan/VulkanRenderer.h@{src/engine/renderer/backends/vulkan/VulkanRenderer.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}../../IRenderer.h"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}../../../../platform/IWindow.h"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <vulkan/vulkan.hpp>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{class\ }VulkanRenderer\ :\ \textcolor{keyword}{public}\ \doxymbox{\hyperlink{class_i_renderer}{IRenderer}}}
\DoxyCodeLine{00010\ \{}
\DoxyCodeLine{00011\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00012\ \ \ \ \ VulkanRenderer();}
\DoxyCodeLine{00013\ \ \ \ \ \string~VulkanRenderer()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keywordtype}{bool}\ \doxymbox{\hyperlink{class_vulkan_renderer_afcd60f36209342eb84112d9f1e5181e1}{initialize}}(\textcolor{keyword}{const}\ \doxymbox{\hyperlink{struct_i_renderer_1_1_init_info}{InitInfo}}\&\ info,\ \doxymbox{\hyperlink{classplatform_1_1_i_window}{IWindow}}\&\ window)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_vulkan_renderer_a8f1f20449cbd646ff5d677916c516afd}{shutdown}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keywordtype}{bool}\ \doxymbox{\hyperlink{class_vulkan_renderer_a49a0e593dc7c0e8a9665629e3dd9c35c}{beginFrame}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_vulkan_renderer_a4e45302f6d2d76d2982c1725a4eb715b}{endFrame}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \ \ \ \ \doxymbox{\hyperlink{struct_i_renderer_1_1_shader_handle}{ShaderHandle}}\ \doxymbox{\hyperlink{class_vulkan_renderer_a13df96e25be1150bfd5c631175823bb0}{createShader}}(\doxymbox{\hyperlink{class_i_renderer_a0603f41a720e63a343018a755b33a68d}{ShaderStage}}\ stage,\ \textcolor{keyword}{const}\ std::vector<uint8\_t>\&\ bytecode)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00021\ \ \ \ \ \doxymbox{\hyperlink{struct_i_renderer_1_1_pipeline_handle}{PipelineHandle}}\ \doxymbox{\hyperlink{class_vulkan_renderer_a901d2f93955d42e35d31e3030a0e2463}{createTrianglePipeline}}(\doxymbox{\hyperlink{struct_i_renderer_1_1_shader_handle}{ShaderHandle}}\ vs,\ \doxymbox{\hyperlink{struct_i_renderer_1_1_shader_handle}{ShaderHandle}}\ fs)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00022\ \ \ \ \ \doxymbox{\hyperlink{struct_i_renderer_1_1_buffer_handle}{BufferHandle}}\ \doxymbox{\hyperlink{class_vulkan_renderer_aa82d67e870e8653690e1a5c757257173}{createVertexBuffer}}(\textcolor{keyword}{const}\ \doxymbox{\hyperlink{struct_i_renderer_1_1_vertex_p_c}{VertexPC}}*\ vertices,\ uint32\_t\ vertexCount)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_vulkan_renderer_af49428876664107a01b28e6aba2d5e90}{drawTriangle}}(\doxymbox{\hyperlink{struct_i_renderer_1_1_pipeline_handle}{PipelineHandle}}\ pipeline,\ \doxymbox{\hyperlink{struct_i_renderer_1_1_buffer_handle}{BufferHandle}}\ vertexBuffer,\ uint32\_t\ vertexCount)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{struct\ }VulkanShader}
\DoxyCodeLine{00027\ \ \ \ \ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ vk::ShaderModule\ module;}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{class_i_renderer_a0603f41a720e63a343018a755b33a68d}{ShaderStage}}\ stage;}
\DoxyCodeLine{00030\ \ \ \ \ \};}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{struct\ }VulkanPipeline}
\DoxyCodeLine{00033\ \ \ \ \ \{}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ vk::Pipeline\ pipeline;}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ vk::PipelineLayout\ layout;}
\DoxyCodeLine{00036\ \ \ \ \ \};}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{struct\ }VulkanBuffer}
\DoxyCodeLine{00039\ \ \ \ \ \{}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ vk::Buffer\ buffer;}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ vk::DeviceMemory\ memory;}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ uint32\_t\ vertexCount;}
\DoxyCodeLine{00043\ \ \ \ \ \};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{comment}{//\ Vulkan\ core\ objects}}
\DoxyCodeLine{00046\ \ \ \ \ vk::Instance\ m\_instance;}
\DoxyCodeLine{00047\ \ \ \ \ vk::PhysicalDevice\ m\_physicalDevice;}
\DoxyCodeLine{00048\ \ \ \ \ vk::Device\ m\_device;}
\DoxyCodeLine{00049\ \ \ \ \ vk::Queue\ m\_graphicsQueue;}
\DoxyCodeLine{00050\ \ \ \ \ vk::SurfaceKHR\ m\_surface;}
\DoxyCodeLine{00051\ \ \ \ \ vk::SwapchainKHR\ m\_swapchain;}
\DoxyCodeLine{00052\ \ \ \ \ std::vector<vk::Image>\ m\_swapchainImages;}
\DoxyCodeLine{00053\ \ \ \ \ std::vector<vk::ImageView>\ m\_swapchainImageViews;}
\DoxyCodeLine{00054\ \ \ \ \ vk::RenderPass\ m\_renderPass;}
\DoxyCodeLine{00055\ \ \ \ \ std::vector<vk::Framebuffer>\ m\_framebuffers;}
\DoxyCodeLine{00056\ \ \ \ \ vk::CommandPool\ m\_commandPool;}
\DoxyCodeLine{00057\ \ \ \ \ std::vector<vk::CommandBuffer>\ m\_commandBuffers;}
\DoxyCodeLine{00058\ \ \ \ \ vk::Semaphore\ m\_imageAvailableSemaphore;}
\DoxyCodeLine{00059\ \ \ \ \ vk::Semaphore\ m\_renderFinishedSemaphore;}
\DoxyCodeLine{00060\ \ \ \ \ vk::Fence\ m\_inFlightFence;}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{comment}{//\ Resources}}
\DoxyCodeLine{00063\ \ \ \ \ std::vector<std::unique\_ptr<VulkanShader>>\ m\_shaders;}
\DoxyCodeLine{00064\ \ \ \ \ std::vector<std::unique\_ptr<VulkanPipeline>>\ m\_pipelines;}
\DoxyCodeLine{00065\ \ \ \ \ std::vector<std::unique\_ptr<VulkanBuffer>>\ m\_buffers;}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ uint32\_t\ m\_currentFrame\ =\ 0;}
\DoxyCodeLine{00068\ \ \ \ \ uint32\_t\ m\_imageIndex\ =\ 0;}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{//\ Helper\ functions}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{bool}\ createInstance();}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordtype}{bool}\ createSurface(\doxymbox{\hyperlink{classplatform_1_1_i_window}{IWindow}}\&\ window);}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordtype}{bool}\ pickPhysicalDevice();}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordtype}{bool}\ createLogicalDevice();}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordtype}{bool}\ createSwapchain();}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordtype}{bool}\ createImageViews();}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{bool}\ createRenderPass();}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordtype}{bool}\ createFramebuffers();}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordtype}{bool}\ createCommandPool();}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordtype}{bool}\ createCommandBuffers();}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{bool}\ createSyncObjects();}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordtype}{bool}\ createBuffer(\textcolor{keywordtype}{size\_t}\ size,\ vk::BufferUsageFlags\ usage,\ vk::MemoryPropertyFlags\ properties,}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ vk::Buffer\&\ buffer,\ vk::DeviceMemory\&\ bufferMemory);}
\DoxyCodeLine{00084\ \ \ \ \ uint32\_t\ findMemoryType(uint32\_t\ typeFilter,\ vk::MemoryPropertyFlags\ properties);}
\DoxyCodeLine{00085\ \ \ \ \ vk::CommandBuffer\ beginSingleTimeCommands();}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordtype}{void}\ endSingleTimeCommands(vk::CommandBuffer\ commandBuffer);}
\DoxyCodeLine{00087\ \};}

\end{DoxyCode}
